schema: '2.0'
stages:
  data_ingestion:
    cmd: python ./src/data/data_ingestion.py
    deps:
    - path: ./src/data/data_ingestion.py
      hash: md5
      md5: 597834a6bf7f7128b2f287fa73de1547
      size: 3611
      isexec: true
  extract_features:
    cmd: python ./src/features/extract_features.py
    deps:
    - path: ./src/features/extract_features.py
      hash: md5
      md5: 7b346e0811ce5903cafc9f86dd4e2a03
      size: 4691
      isexec: true
    params:
      params.yaml:
        extract_features.ewma.alpha: 0.4
        extract_features.mini_batch_kmeans.n_clusters: 30
        extract_features.mini_batch_kmeans.n_init: 10
        extract_features.mini_batch_kmeans.random_state: 42
    outs:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 01afb46fca985dadc7a866eae5f5abed
      size: 8218223
      isexec: true
    - path: ./models/mb_kmeans.joblib
      hash: md5
      md5: 0dfd6b670c917d405154dae5b7d1708a
      size: 143771
      isexec: true
    - path: ./models/scaler.joblib
      hash: md5
      md5: cf2c91f3d39deba23298c30d93d06ce6
      size: 951
      isexec: true
  feature_processing:
    cmd: python ./src/features/feature_processing.py
    deps:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 01afb46fca985dadc7a866eae5f5abed
      size: 8218223
      isexec: true
    - path: ./src/features/feature_processing.py
      hash: md5
      md5: bb7e9a7f324d3fc07adc3b1ee1b69c0f
      size: 2467
      isexec: true
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 28300d320298b1bd5c3501106264692e
      size: 4900393
      isexec: true
    - path: ./data/processed/train.csv
      hash: md5
      md5: 9d8fc42cfb0eb631972952dcf06e9485
      size: 9436607
      isexec: true
  train:
    cmd: python ./src/models/train.py
    deps:
    - path: ./data/processed/train.csv
      hash: md5
      md5: 9d8fc42cfb0eb631972952dcf06e9485
      size: 9436607
      isexec: true
    - path: ./src/models/train.py
      hash: md5
      md5: 3e0ab66e3b0b5808ae51e4ef7b97731b
      size: 2239
      isexec: true
    outs:
    - path: ./models/encoder.joblib
      hash: md5
      md5: 371e43f63661854760c6b665b82da7e7
      size: 3207
      isexec: true
    - path: ./models/model.joblib
      hash: md5
      md5: 2925e54cc39f08423975eaf75b7c4f69
      size: 2169
      isexec: true
  evaluate:
    cmd: python ./src/models/evaluate.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 28300d320298b1bd5c3501106264692e
      size: 4900393
      isexec: true
    - path: ./data/processed/train.csv
      hash: md5
      md5: 9d8fc42cfb0eb631972952dcf06e9485
      size: 9436607
      isexec: true
    - path: ./models/encoder.joblib
      hash: md5
      md5: 371e43f63661854760c6b665b82da7e7
      size: 3207
      isexec: true
    - path: ./models/model.joblib
      hash: md5
      md5: 2925e54cc39f08423975eaf75b7c4f69
      size: 2169
      isexec: true
    - path: ./src/models/evaluate.py
      hash: md5
      md5: 9b655dee2c34cdc30c48b089762fba81
      size: 10136
      isexec: true
    outs:
    - path: ./run_information.json
      hash: md5
      md5: 7b9a364bb09ce4e3b8b2431949f4b953
      size: 171
      isexec: true
  register_model:
    cmd: python ./src/models/register_model.py
    deps:
    - path: ./run_information.json
      hash: md5
      md5: 7b9a364bb09ce4e3b8b2431949f4b953
      size: 171
      isexec: true
    - path: ./src/models/register_model.py
      hash: md5
      md5: 67e7b8b5a8b4a4dead56d8b9367dc9cb
      size: 6494
      isexec: true
